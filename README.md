# XKEEN_VLESS_Configurator
Configurator for xkeen with multiple vless (outbounds, routing with balancer, observatory)

Создаёт файлы 04_outbounds.json, 05_routing.json, 06_observatory.json
Проверяет, что 06 файл это observatory. В частном случае там был 06_policy.json, который предлагает переименовать в 10_policy.json с подсказкой как это сделать.

Предлагает добавить существующий файл 05_routing.json
Это необходимо, если там есть добавленные вручную доменные имена и ip-адреса.
При добавлении старого 05_routing.json все "ручные" правила будут перенесены в новый файл.

Обновление v2 от 2026-02-22: 
Для существующий подключений(правил) добавлена возможность жёсткой привязки домена/ip к выбранному правилу (т.е. порядок работы: блокировка->правило->балансировщик)

Обновление v3 от 2026-02-22:
- Загрузка существующих файлов
-- Теперь вы можете загрузить любой из существующих файлов конфигурации:
--- 04_outbounds.json - автоматически загрузит все прокси
--- 05_routing.json - извлечет все принудительные правила
--- 06_observatory.json - сохранит настройки мониторинга

- Три способа загрузки:
-- Индивидуальная загрузка
--- Для каждого файла есть своя кнопка "Обзор..." и "Загрузить"
-- Пакетная загрузка
--- Кнопка "Загрузить все файлы из папки" - автоматически найдет и загрузит все три файла из выбранной папки

- Что сохраняется при загрузке:
-- Из 04_outbounds.json:
--- Все теги прокси
--- VLESS URL (восстанавливается для отображения)
-- Из 05_routing.json:
---- Все принудительные правила (домены и IP для каждого прокси)
-- Из 06_observatory.json:
--- Настройки мониторинга (probeInterval, probeUrl)

- Примеры использования:
-- Сценарий 1: Быстрая правка
--- Загрузили все файлы из /opt/etc/xray/configs/
--- Добавили один новый прокси
--- Сгенерировали новые файлы - все остальные настройки сохранились
-- Сценарий 2: Добавление правил
--- Загрузили существующий routing.json
--- Добавили новые принудительные правила через интерфейс
--- Сгенерировали - старые правила сохранились, новые добавились
-- Сценарий 3: Восстановление после сбоя
--- Загрузили все файлы из бэкапа
--- Сразу видим все настройки
--- Можем внести изменения и сохранить

- Порядок приоритета правил (сохранен):
-- Правила блокировки
-- Принудительные правила (ваши новые)
-- Балансировщик
-- Остальные ручные правила
-- Direct (fallback)

Инструкция: 
1) Запустите программу
2) При желании добавьте существующие 04_outbounds.json, 05_routing.json, 06_observatory.json (пояснение по каждому файлу в описании нововведений v3)
3) Добавьте ваши прокси (Tag - название прокси (для каждого прокси должно быть уникальным в одном файле), VLESS URL - ваш vless)
4) Скорректируйте настройки routing и привязки к правилам
5) Сгенерируйте файлы в папку /opt/etc/xray/configs/
